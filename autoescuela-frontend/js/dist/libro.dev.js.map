{"version":3,"sources":["libro.js"],"names":["_datosLibros","eliminarExitoso","resultado","e","elemento","$","modal","Success","currentTarget","closest","remove","toastr","success","titulo","error","Mensaje","confirmarEliminar","url","tipo","datos","id","tipoDatos","solicitudAjax","response","mostrarEliminarLibro","find","html","css","backdrop","keyboard","unbind","click","guardarLibroExitoso","respuesta","val","autor","isbn","idioma","fechapublicacion","cantpaginas","libro","parseInt","Data","push","mostrarDatosLibros","guardarLibro","limpiarDatos","hide","show","mostrarModalLibro","editarDatos","eventoActualizarLibro","input","event","preventDefault","formatDate","dateString","date","Date","year","getFullYear","month","getMonth","slice","day","getDate","limpiarTabla","each","index","fila","attr","append","col","addClass","crearSpan","AccionColumna","getLibrosExitoso","init","document","ready"],"mappings":"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","sourcesContent":["var _datosLibros;\r\n\r\nfunction eliminarExitoso(resultado, e, elemento) {\r\n    $(\"#eliminarLibro\").modal(\"hide\");\r\n    if (resultado.Success) {\r\n        $(e.currentTarget).closest('tr').remove();\r\n        _datosLibros.remove(elemento);\r\n        toastr.success(\"El Libro'\" + elemento.titulo + \r\n            \" '   se ha eliminado satisfactoriamente\");\r\n    } else {\r\n        toastr.error(resultado.Mensaje);\r\n    }\r\n}\r\n\r\nfunction confirmarEliminar(e, elemento) {\r\n    var url = \"/EliminarLibro\";\r\n    var tipo = 'POST';\r\n    var datos = { id: elemento.id };\r\n    var tipoDatos = 'JSON';\r\n    solicitudAjax(url, function (response) { eliminarExitoso(response, e, elemento); }\r\n    , datos, tipoDatos, tipo);\r\n}\r\nfunction mostrarEliminarLibro(e, elemento) {\r\n    var modal = '#eliminarLibro';\r\n    $(modal).find(\".modal-title\").html('Eliminar Libro');\r\n    $(modal).find(\".text-mensaje-modal\").html('Esta seguro que desea eliminar el Libro '\r\n        + \"'\" + elemento.titulo + \"'    ?\");\r\n    $(modal).find(\".modal-body\").css({ 'min-height': 100 + \"px\" });    \r\n    $(modal).modal({ backdrop: 'static', keyboard: false });\r\n    $(modal).modal(\"show\");\r\n    $(\"#btnConfirmarEliminar\").unbind('click').click(function () {\r\n        confirmarEliminar(e, elemento);\r\n    });    \r\n}\r\n\r\nfunction guardarLibroExitoso(respuesta, elemento) {\r\n    if (respuesta.Success) {\r\n        $(\"#agregarLibro\").modal(\"hide\");\r\n        if (elemento) {\r\n            elemento.titulo = $(\"#txtTitulo\").val();\r\n            elemento.autor = $(\"#txtAutor\").val();\r\n            elemento.isbn = $(\"#txtIsbn\").val();\r\n            elemento.idioma = $(\"#txtIdioma\").val();\r\n            elemento.fechapublicacion = $(\"#txtFechaPublicacion\").val();\r\n            elemento.cantpaginas = $(\"#txtCantPaginas\").val();\r\n        } else {\r\n            var libro = {\r\n                id: parseInt(respuesta.Data),\r\n                titulo: $(\"#txtTitulo\").val(),\r\n                autor: $(\"#txtAutor\").val(),\r\n                isbn: $(\"#txtIsbn\").val(),\r\n                idioma: $(\"#txtIdioma\").val(),\r\n                fechapublicacion: $(\"#txtFechaPublicacion\").val(),\r\n                cantpaginas: $(\"#txtCantPaginas\").val(),\r\n            };\r\n            _datosLibros.push(libro);\r\n        }            \r\n        mostrarDatosLibros();\r\n        toastr.success(\"El Libro se ha guardado satisfactoriamente \");\r\n    } else {\r\n        toastr.error(respuesta.Mensaje);\r\n    }    \r\n}\r\n\r\nfunction guardarLibro(id, elemento) {\r\n    var url = \"/GuardarLibro\";\r\n    var tipo = 'POST';\r\n    var datos = {\r\n        id: id,\r\n        titulo: $(\"#txtTitulo\").val(),\r\n        autor: $(\"#txtAutor\").val(),\r\n        isbn: $(\"#txtIsbn\").val(),\r\n        idioma: $(\"#txtIdioma\").val(),\r\n        fechapublicacion: $(\"#txtFechaPublicacion\").val(),\r\n        cantpaginas: $(\"#txtCantPaginas\").val(),\r\n    };\r\n    var tipoDatos = 'JSON';\r\n    solicitudAjax(url, function (response) { guardarLibroExitoso(response, elemento); }\r\n        , datos, tipoDatos, tipo);\r\n}\r\nfunction limpiarDatos() {\r\n    $(\"#txtTitulo\").val(\"\");\r\n    $(\"#txtAutor\").val(\"\");\r\n    $(\"#txtIsbn\").val(\"\");\r\n    $(\"#txtIdioma\").val(\"\");\r\n    $(\"#txtFechaPublicacion\").val(\"\");\r\n    $(\"#txtCantPaginas\").val(\"\");\r\n    $(\"#btnEditar\").hide();\r\n    $(\"#btnGuardar\").show();\r\n}\r\n\r\nfunction mostrarModalLibro() {\r\n    limpiarDatos();\r\n    var modal = '#agregarLibro';    \r\n    $(modal).find(\".modal-title\").html(\"Adicionar Libro\");\r\n    $(modal).find(\".modal-dialog\").css({ \"width\": 700 + \"px\" });\r\n    $(modal).find(\".modal-body\").css({ 'min-height': 150 + \"px\" });\r\n    $(modal).modal({ backdrop: 'static', keyboard: false });\r\n    $(modal).modal(\"show\");\r\n}\r\nfunction editarDatos(elemento) {\r\n    $(\"#txtTitulo\").val(elemento.titulo);\r\n    $(\"#txtAutor\").val(elemento.autor);\r\n    $(\"#txtIsbn\").val(elemento.isbn);\r\n    $(\"#txtIdioma\").val(elemento.idioma);\r\n    $(\"#txtFechaPublicacion\").val(elemento.fechapublicacion);\r\n    $(\"#txtCantPaginas\").val(elemento.cantpaginas);\r\n    $(\"#btnEditar\").show();\r\n    $(\"#btnGuardar\").hide();\r\n}\r\n\r\nfunction eventoActualizarLibro(input, elemento) {\r\n    $(input).unbind('click').click(function () {\r\n        var modal = '#agregarLibro';\r\n        editarDatos(elemento);\r\n        $(modal).find(\".modal-title\").html('Editar Libro : ' + \"'\" + \r\n            elemento.titulo + \"'\");\r\n        $(modal).find(\".modal-dialog\").css({ 'width': 700 + \"px\" });\r\n        $(modal).modal({ backdrop: 'static', keyboard: false });\r\n        $(modal).modal(\"show\");\r\n        $(\"#btnEditar\").unbind('click').click(function (event) {\r\n            event.preventDefault();\r\n            guardarLibro(elemento.id, elemento);\r\n        });\r\n    });\r\n}\r\n\r\n\r\nfunction formatDate(dateString) {\r\n    const date  = new Date(dateString);\r\n    const year  = date.getFullYear();\r\n    const month = ('0' + (date.getMonth() + 1)).slice(-2);\r\n    const day   = ('0' + date.getDate()).slice(-2);\r\n    return `${day}/${month}/${year}`;\r\n}\r\n\r\nfunction mostrarDatosLibros() {\r\n    limpiarTabla('tblLibro');\r\n    $.each(_datosLibros, function (index, elemento) {\r\n        var fila = $('<tr>').attr('id', elemento.id);\r\n        fila.append(col(elemento.id).addClass(\"alinearCentro\"));\r\n        //fila.append(col(elemento.nombre));\r\n        var input = crearSpan(\"lblEdit\" + index, \"spanHyperLink\", elemento.titulo);\r\n        eventoActualizarLibro(input, elemento);\r\n        fila.append(col(input));\r\n        fila.append(col(elemento.autor ));\r\n        fila.append(col(elemento.isbn ));\r\n        fila.append(col(elemento.idioma ));\r\n        fila.append(col(formatDate(elemento.fechapublicacion)));\r\n        fila.append(col(elemento.cantpaginas ));\r\n        fila.append(col(AccionColumna(function (e) { mostrarEliminarLibro(e, elemento) }\r\n            , 'trash', 'Eliminar')).addClass(\"alinearCentro\"));\r\n        $('#tblLibro tbody').append(fila);\r\n    });\r\n}\r\nfunction getLibrosExitoso(resultado) {\r\n    if (resultado.Success) {\r\n        toastr.success(\"Cargado Exitoso\");\r\n        _datosLibros = resultado.Data;\r\n        mostrarDatosLibros();        \r\n    } else {\r\n        toastr.error(resultado.Mensaje);\r\n    }\r\n}\r\n\r\nfunction init() {\r\n    var url = \"/obtenerLibros\";\r\n    var tipo = 'GET';\r\n    var datos = {};\r\n    var tipoDatos = 'JSON';\r\n    solicitudAjax(url, getLibrosExitoso, datos, tipoDatos, tipo);\r\n}\r\n$(document).ready(function () {\r\n    init();  \r\n    $('#btnAdicionar').click(function () { mostrarModalLibro(); });  \r\n    $('#btnCancelar').click(function () { $('#agregarLibro').modal(\"hide\"); });  \r\n    $(\"#btnGuardar\").click(function () { guardarLibro(0); });\r\n    $('#btnCancelarEliminar').click(function () { $(\"#eliminarLibro\").modal(\"hide\"); });    \r\n});"],"file":"libro.dev.js"}