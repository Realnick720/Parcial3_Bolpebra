"use strict";var _datosTipos;function eliminarExitoso(i,o,a){$("#eliminarTipo").modal("hide"),i.Success?($(o.currentTarget).closest("tr").remove(),_datosTipos.remove(a),toastr.success("El Tipo'"+a.nombre+" '   se ha eliminado satisfactoriamente")):toastr.error(i.Mensaje)}function confirmarEliminar(o,a){var i={idtipo:a.idtipo};solicitudAjax("tipo/EliminarTipo",function(i){eliminarExitoso(i,o,a)},i,"JSON","POST")}function mostrarEliminarTipo(i,o){var a="#eliminarTipo";$(a).find(".modal-title").html("Eliminar Tipo"),$(a).find(".text-mensaje-modal").html("Esta seguro que desea eliminar el Tipo '"+o.nombre+"'    ?"),$(a).find(".modal-body").css({"min-height":"100px"}),$(a).modal({backdrop:"static",keyboard:!1}),$(a).modal("show"),$("#btnConfirmarEliminar").unbind("click").click(function(){confirmarEliminar(i,o)})}function guardarTipoExitoso(i,o){if(i.Success){if($("#agregarTipo").modal("hide"),o)o.nombre=$("#txtNombre").val(),o.descripcion=$("#txtDescripcion").val();else{var a={idtipo:parseInt(i.Data),nombre:$("#txtNombre").val(),descripcion:$("#txtDescripcion").val()};_datosTipos.push(a)}mostrarDatosTipos(),toastr.success("El Tipo se ha guardado satisfactoriamente ")}else toastr.error(i.Mensaje)}function guardarTipo(i,o){var a={idtipo:i,nombre:$("#txtNombre").val(),descripcion:$("#txtDescripcion").val()};solicitudAjax("tipo/GuardarTipo",function(i){guardarTipoExitoso(i,o)},a,"JSON","POST")}function limpiarDatos(){$("#txtNombre").val(""),$("#txtDescripcion").val(""),$("#btnEditar").hide(),$("#btnGuardar").show()}function mostrarModalTipo(){limpiarDatos();var i="#agregarTipo";$(i).find(".modal-title").html("Adicionar Tipo"),$(i).find(".modal-dialog").css({width:"700px"}),$(i).find(".modal-body").css({"min-height":"150px"}),$(i).modal({backdrop:"static",keyboard:!1}),$(i).modal("show")}function editarDatos(i){$("#txtNombre").val(i.nombre),$("#txtDescripcion").val(i.descripcion),$("#btnEditar").show(),$("#btnGuardar").hide()}function eventoActualizarTipo(i,o){$(i).unbind("click").click(function(){var i="#agregarTipo";editarDatos(o),$(i).find(".modal-title").html("Editar Tipo : '"+o.nombre+"'"),$(i).find(".modal-dialog").css({width:"700px"}),$(i).modal({backdrop:"static",keyboard:!1}),$(i).modal("show"),$("#btnEditar").unbind("click").click(function(i){i.preventDefault(),guardarTipo(o.idtipo,o)})})}function mostrarDatosTipos(){limpiarTabla("tblTipo"),$.each(_datosTipos,function(i,o){var a=$("<tr>").attr("id",o.idtipo);a.append(col(o.idtipo).addClass("alinearCentro"));var t=crearSpan("lblEdit"+i,"spanHyperLink",o.nombre);eventoActualizarTipo(t,o),a.append(col(t)),a.append(col(o.descripcion)),a.append(col(AccionColumna(function(i){mostrarEliminarTipo(i,o)},"trash","Eliminar")).addClass("alinearCentro")),$("#tblTipo tbody").append(a)})}function getTiposExitoso(i){i.Success?(toastr.success("Cargado Exitoso"),_datosTipos=i.Data,mostrarDatosTipos()):toastr.error(i.Mensaje)}function init(){solicitudAjax("tipo/obtenerTipos",getTiposExitoso,{},"JSON","GET")}$(document).ready(function(){init(),$("#btnAdicionar").click(function(){mostrarModalTipo()}),$("#btnCancelar").click(function(){$("#agregarTipo").modal("hide")}),$("#btnGuardar").click(function(){guardarTipo(0)}),$("#btnCancelarEliminar").click(function(){$("#eliminarTipo").modal("hide")})});
//# sourceMappingURL=tipo.min.js.map
