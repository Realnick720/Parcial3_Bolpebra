"use strict";var _datosClientes;function eliminarExitoso(e,t,i){$("#eliminarCliente").modal("hide"),e.Success?($(t.currentTarget).closest("tr").remove(),_datosClientes.remove(i),toastr.success("El Cliente'"+i.nombres+" '   se ha eliminado satisfactoriamente")):toastr.error(e.Mensaje)}function confirmarEliminar(t,i){var e={idcliente:i.idcliente};solicitudAjax("cliente/EliminarCliente",function(e){eliminarExitoso(e,t,i)},e,"JSON","POST")}function mostrarEliminarCliente(e,t){var i="#eliminarCliente";$(i).find(".modal-title").html("Eliminar Cliente"),$(i).find(".text-mensaje-modal").html("Esta seguro que desea eliminar el Cliente '"+t.nombre+"'    ?"),$(i).find(".modal-body").css({"min-height":"100px"}),$(i).modal({backdrop:"static",keyboard:!1}),$(i).modal("show"),$("#btnConfirmarEliminar").unbind("click").click(function(){confirmarEliminar(e,t)})}function guardarClienteExitoso(e,t){if(e.Success){if($("#agregarCliente").modal("hide"),t)t.ci=$("#txtCI").val(),t.nombres=$("#txtNombres").val(),t.apellidos=$("#txtApellidos").val(),t.direccion=$("#txtDireccion").val(),t.telefono=$("#txtTelefono").val(),t.correo=$("#txtCorreo").val(),t.fechanacimiento=$("#txtFechaNacimiento").val();else{var i={idcliente:parseInt(e.Data),ci:$("#txtCI").val(),nombres:$("#txtNombres").val(),apellidos:$("#txtApellidos").val(),direccion:$("#txtDireccion").val(),telefono:$("#txtTelefono").val(),correo:$("#txtCorreo").val(),fechanacimiento:$("#txtFechaNacimiento").val()};_datosClientes.push(i)}mostrarDatosClientes(),toastr.success("El Cliente se ha guardado satisfactoriamente ")}else toastr.error(e.Mensaje)}function guardarCliente(e,t){var i={idcliente:e,ci:$("#txtCI").val(),nombres:$("#txtNombres").val(),apellidos:$("#txtApellidos").val(),direccion:$("#txtDireccion").val(),telefono:$("#txtTelefono").val(),correo:$("#txtCorreo").val(),fechanacimiento:$("#txtFechaNacimiento").val()};solicitudAjax("cliente/GuardarCliente",function(e){guardarClienteExitoso(e,t)},i,"JSON","POST")}function limpiarDatos(){$("#txtCI").val(""),$("#txtNombres").val(""),$("#txtApellidos").val(""),$("#txtDireccion").val(""),$("#txtTelefono").val(""),$("#txtCorreo").val(""),$("#txtFechaNacimiento").val(""),$("#btnEditar").hide(),$("#btnGuardar").show()}function mostrarModalCliente(){limpiarDatos();var e="#agregarCliente";$(e).find(".modal-title").html("Adicionar Cliente"),$(e).find(".modal-dialog").css({width:"700px"}),$(e).find(".modal-body").css({"min-height":"150px"}),$(e).modal({backdrop:"static",keyboard:!1}),$(e).modal("show")}function editarDatos(e){$("#txtCI").val(e.ci),$("#txtNombres").val(e.nombres),$("#txtApellidos").val(e.apellidos),$("#txtDireccion").val(e.direccion),$("#txtTelefono").val(e.telefono),$("#txtCorreo").val(e.correo),$("#txtFechaNacimiento").val(e.fechanacimiento),$("#btnEditar").show(),$("#btnGuardar").hide()}function eventoActualizarCliente(e,t){$(e).unbind("click").click(function(){var e="#agregarCliente";editarDatos(t),$(e).find(".modal-title").html("Editar Cliente : '"+t.nombre+"'"),$(e).find(".modal-dialog").css({width:"700px"}),$(e).modal({backdrop:"static",keyboard:!1}),$(e).modal("show"),$("#btnEditar").unbind("click").click(function(e){e.preventDefault(),guardarCliente(t.idcliente,t)})})}function formatDate(e){var t=new Date(e),i=t.getFullYear(),a=("0"+(t.getMonth()+1)).slice(-2),n=("0"+t.getDate()).slice(-2);return"".concat(n,"/").concat(a,"/").concat(i)}function mostrarDatosClientes(){limpiarTabla("tblCliente"),$.each(_datosClientes,function(e,t){var i=$("<tr>").attr("id",t.idcliente);i.append(col(t.idcliente).addClass("alinearCentro"));var a=crearSpan("lblEdit"+e,"spanHyperLink",t.ci);eventoActualizarCliente(a,t),i.append(col(a)),i.append(col(t.nombres)),i.append(col(t.apellidos)),i.append(col(t.direccion)),i.append(col(t.telefono)),i.append(col(t.correo)),i.append(col(formatDate(t.fechanacimiento))),i.append(col(AccionColumna(function(e){mostrarEliminarCliente(e,t)},"trash","Eliminar")).addClass("alinearCentro")),$("#tblCliente tbody").append(i)})}function getClienteExitoso(e){e.Success?(toastr.success("Cargado Exitoso"),_datosClientes=e.Data,mostrarDatosClientes()):toastr.error(e.Mensaje)}function init(){solicitudAjax("cliente/obtenerClientes",getClienteExitoso,{},"JSON","GET")}$(document).ready(function(){init(),$("#btnAdicionar").click(function(){mostrarModalCliente()}),$("#btnCancelar").click(function(){$("#agregarCliente").modal("hide")}),$("#btnGuardar").click(function(){guardarCliente(0)}),$("#btnCancelarEliminar").click(function(){$("#eliminarCliente").modal("hide")})});
//# sourceMappingURL=cliente.min.js.map
