{"version":3,"sources":["tipo.js"],"names":["_datosTipos","eliminarExitoso","resultado","e","elemento","$","modal","Success","currentTarget","closest","remove","toastr","success","nombre","error","Mensaje","confirmarEliminar","url","tipo","datos","idtipo","tipoDatos","solicitudAjax","response","mostrarEliminarTipo","find","html","css","backdrop","keyboard","unbind","click","guardarTipoExitoso","respuesta","val","descripcion","parseInt","Data","push","mostrarDatosTipos","guardarTipo","idTipo","limpiarDatos","hide","show","mostrarModalTipo","editarDatos","eventoActualizarTipo","input","event","preventDefault","limpiarTabla","each","index","fila","attr","append","col","addClass","crearSpan","AccionColumna","getTiposExitoso","init","document","ready"],"mappings":"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","sourcesContent":["var _datosTipos;\r\nfunction eliminarExitoso(resultado, e, elemento) {\r\n    $(\"#eliminarTipo\").modal(\"hide\");\r\n    if (resultado.Success) {\r\n        $(e.currentTarget).closest('tr').remove();\r\n        _datosTipos.remove(elemento);\r\n        toastr.success(\"El Tipo'\" + elemento.nombre + \r\n            \" '   se ha eliminado satisfactoriamente\");\r\n    } else {\r\n        toastr.error(resultado.Mensaje);\r\n    }\r\n}\r\nfunction confirmarEliminar(e, elemento) {\r\n    var url = \"tipo/EliminarTipo\";\r\n    var tipo = 'POST';\r\n    var datos = { idtipo: elemento.idtipo };\r\n    var tipoDatos = 'JSON';\r\n    solicitudAjax(url, function (response) { eliminarExitoso(response, e, elemento); }\r\n    , datos, tipoDatos, tipo);\r\n}\r\nfunction mostrarEliminarTipo(e, elemento) {\r\n    var modal = '#eliminarTipo';\r\n    $(modal).find(\".modal-title\").html('Eliminar Tipo');\r\n    $(modal).find(\".text-mensaje-modal\").html('Esta seguro que desea eliminar el Tipo '\r\n        + \"'\" + elemento.nombre + \"'    ?\");\r\n    $(modal).find(\".modal-body\").css({ 'min-height': 100 + \"px\" });    \r\n    $(modal).modal({ backdrop: 'static', keyboard: false });\r\n    $(modal).modal(\"show\");\r\n    $(\"#btnConfirmarEliminar\").unbind('click').click(function () {\r\n        confirmarEliminar(e, elemento);\r\n    });    \r\n}\r\nfunction guardarTipoExitoso(respuesta, elemento) {\r\n    if (respuesta.Success) {\r\n        $(\"#agregarTipo\").modal(\"hide\");\r\n        if (elemento) {\r\n            elemento.nombre = $(\"#txtNombre\").val();\r\n            elemento.descripcion = $(\"#txtDescripcion\").val();\r\n        } else {\r\n            var tipo = {\r\n                idtipo: parseInt(respuesta.Data),\r\n                nombre: $(\"#txtNombre\").val(),\r\n                descripcion: $(\"#txtDescripcion\").val(),\r\n            };\r\n            _datosTipos.push(tipo);\r\n        }            \r\n        mostrarDatosTipos();\r\n        toastr.success(\"El Tipo se ha guardado satisfactoriamente \");\r\n    } else {\r\n        toastr.error(respuesta.Mensaje);\r\n    }    \r\n}\r\nfunction guardarTipo(idTipo, elemento) {\r\n    var url = \"tipo/GuardarTipo\";\r\n    var tipo = 'POST';\r\n    var datos = {\r\n        idtipo: idTipo,\r\n        nombre: $(\"#txtNombre\").val(),\r\n        descripcion: $(\"#txtDescripcion\").val(),\r\n    };\r\n    var tipoDatos = 'JSON';\r\n    solicitudAjax(url, function (response) { guardarTipoExitoso(response, elemento); }\r\n        , datos, tipoDatos, tipo);\r\n}\r\nfunction limpiarDatos() {\r\n    $(\"#txtNombre\").val(\"\");\r\n    $(\"#txtDescripcion\").val(\"\");\r\n    $(\"#btnEditar\").hide();\r\n    $(\"#btnGuardar\").show();\r\n}\r\nfunction mostrarModalTipo() {\r\n    limpiarDatos();\r\n    var modal = '#agregarTipo';    \r\n    $(modal).find(\".modal-title\").html(\"Adicionar Tipo\");\r\n    $(modal).find(\".modal-dialog\").css({ \"width\": 700 + \"px\" });\r\n    $(modal).find(\".modal-body\").css({ 'min-height': 150 + \"px\" });\r\n    $(modal).modal({ backdrop: 'static', keyboard: false });\r\n    $(modal).modal(\"show\");\r\n}\r\nfunction editarDatos(elemento) {\r\n    $(\"#txtNombre\").val(elemento.nombre);\r\n    $(\"#txtDescripcion\").val(elemento.descripcion);\r\n    $(\"#btnEditar\").show();\r\n    $(\"#btnGuardar\").hide();\r\n}\r\nfunction eventoActualizarTipo(input, elemento) {\r\n    $(input).unbind('click').click(function () {\r\n        var modal = '#agregarTipo';\r\n        editarDatos(elemento);\r\n        $(modal).find(\".modal-title\").html('Editar Tipo : ' + \"'\" + \r\n            elemento.nombre + \"'\");\r\n        $(modal).find(\".modal-dialog\").css({ 'width': 700 + \"px\" });\r\n        $(modal).modal({ backdrop: 'static', keyboard: false });\r\n        $(modal).modal(\"show\");\r\n        $(\"#btnEditar\").unbind('click').click(function (event) {\r\n            event.preventDefault();\r\n            guardarTipo(elemento.idtipo, elemento);\r\n        });\r\n    });\r\n}\r\nfunction mostrarDatosTipos() {\r\n    limpiarTabla('tblTipo');\r\n    $.each(_datosTipos, function (index, elemento) {\r\n        var fila = $('<tr>').attr('id', elemento.idtipo);\r\n        fila.append(col(elemento.idtipo).addClass(\"alinearCentro\"));\r\n        //fila.append(col(elemento.nombre));\r\n        var input = crearSpan(\"lblEdit\" + index, \"spanHyperLink\", elemento.nombre);\r\n        eventoActualizarTipo(input, elemento);\r\n        fila.append(col(input));\r\n        fila.append(col(elemento.descripcion ));\r\n        fila.append(col(AccionColumna(function (e) { mostrarEliminarTipo(e, elemento) }\r\n            , 'trash', 'Eliminar')).addClass(\"alinearCentro\"));\r\n        $('#tblTipo tbody').append(fila);\r\n    });\r\n}\r\nfunction getTiposExitoso(resultado) {\r\n    if (resultado.Success) {\r\n        toastr.success(\"Cargado Exitoso\");\r\n        _datosTipos = resultado.Data;\r\n        mostrarDatosTipos();        \r\n    } else {\r\n        toastr.error(resultado.Mensaje);\r\n    }\r\n}\r\nfunction init() {\r\n    var url = \"tipo/obtenerTipos\";\r\n    var tipo = 'GET';\r\n    var datos = {};\r\n    var tipoDatos = 'JSON';\r\n    solicitudAjax(url, getTiposExitoso, datos, tipoDatos, tipo);\r\n}\r\n$(document).ready(function () {\r\n    init();  \r\n    $('#btnAdicionar').click(function () { mostrarModalTipo(); });  \r\n    $('#btnCancelar').click(function () { $('#agregarTipo').modal(\"hide\"); });  \r\n    $(\"#btnGuardar\").click(function () { guardarTipo(0); });\r\n    $('#btnCancelarEliminar').click(function () { $(\"#eliminarTipo\").modal(\"hide\"); });    \r\n});"],"file":"tipo.dev.js"}