"use strict";var _datosVehiculos,_datosTipos;function eliminarExitoso(a,o,i){$("#eliminarVehiculo").modal("hide"),a.Success?($(o.currentTarget).closest("tr").remove(),_datosVehiculos.remove(i),toastr.success("El Vehiculo'"+i.marca+" '   se ha eliminado satisfactoriamente")):toastr.error(a.Mensaje)}function confirmarEliminar(o,i){var a={id_vehiculo:i.id_vehiculo};solicitudAjax("vehiculo/EliminarVehiculo",function(a){eliminarExitoso(a,o,i)},a,"JSON","POST")}function editarDatos(a){$("#txtMarca").val(a.marca),$("#txtModelo").val(a.modelo),$("#txtColor").val(a.color),$("#txtPlaca").val(a.placa),$("#txtAnio").val(a.anio),$("#txtTransmision").val(a.transmision),$("#cmbTipo").val(a.id_tipovehiculo),$("#btnEditar").show(),$("#btnGuardar").hide()}function eventoActualizarVehiculo(a,o){$(a).unbind("click").click(function(){var a="#agregarVehiculo";editarDatos(o),$(a).find(".modal-title").html("Editar Vehiculo : '"+o.marca+"'"),$(a).find(".modal-dialog").css({width:"700px"}),$(a).modal({backdrop:"static",keyboard:!1}),$(a).modal("show"),$("#btnEditar").unbind("click").click(function(a){a.preventDefault(),guardarVehiculo(o.id_vehiculo,o)})})}function mostrarEliminarVehiculo(a,o){var i="#eliminarVehiculo";$(i).find(".modal-title").html("Eliminar Vehiculo"),$(i).find(".text-mensaje-modal").html("Esta seguro que desea eliminar el Vehiculo '"+o.marca+"'    ?"),$(i).find(".modal-body").css({"min-height":"100px"}),$(i).modal({backdrop:"static",keyboard:!1}),$(i).modal("show"),$("#btnConfirmarEliminar").unbind("click").click(function(){confirmarEliminar(a,o)})}function guardarVehiculoExitoso(a,o){if(a.Success){if($("#agregarVehiculo").modal("hide"),o)o.marca=$("#txtMarca").val(),o.modelo=$("#txtModelo").val(),o.color=$("#txtColor").val(),o.placa=$("#txtPlaca").val(),o.anio=$("#txtAnio").val(),o.id_tipovehiculo=$("#cmbTipo").val(),o.tipo=$("#cmbTipo option:selected").html();else{var i={id_vehiculo:parseInt(a.Data),marca:$("#txtMarca").val(),modelo:$("#txtModelo").val(),color:$("#txtColor").val(),placa:$("#txtPlaca").val(),anio:$("#txtAnio").val(),transmision:$("#txtTransmision").val(),id_tipovehiculo:$("#cmbTipo").val(),tipo:$("#cmbTipo option:selected").html()};_datosVehiculos.push(i)}mostrarDatosVehiculos(),toastr.success("El Vehiculo se ha guardado satisfactoriamente ")}else toastr.error(a.Mensaje)}function guardarVehiculo(a,o){var i={id_vehiculo:a,marca:$("#txtMarca").val(),modelo:$("#txtModelo").val(),color:$("#txtColor").val(),placa:$("#txtPlaca").val(),anio:$("#txtAnio").val(),transmision:$("#txtTransmision").val(),id_tipovehiculo:$("#cmbTipo").val()};solicitudAjax("vehiculo/GuardarVehiculo",function(a){guardarVehiculoExitoso(a,o)},i,"JSON","POST")}function limpiarDatos(){$("#txtMarca").val(""),$("#txtModelo").val(""),$("#txtColor").val(""),$("#txtPlaca").val(""),$("#txtAnio").val(""),$("#txtTransmision").val(""),$("#btnEditar").hide(),$("#btnGuardar").show()}function mostrarModalVehiculo(){limpiarDatos();var a="#agregarVehiculo";$(a).find(".modal-title").html("Adicionar Vehiculo"),$(a).find(".modal-dialog").css({width:"700px"}),$(a).find(".modal-body").css({"min-height":"150px"}),$(a).modal({backdrop:"static",keyboard:!1}),$(a).modal("show")}function mostrarDatosVehiculos(){limpiarTabla("tblVehiculo"),$.each(_datosVehiculos,function(a,o){var i=$("<tr>").attr("id",o.id_vehiculo);i.append(col(o.id_vehiculo).addClass("alinearCentro"));var t=crearSpan("lblEdit"+a,"spanHyperLink",o.marca);eventoActualizarVehiculo(t,o),i.append(col(t)),i.append(col(o.modelo)),i.append(col(o.color)),i.append(col(o.placa)),i.append(col(o.anio)),i.append(col(o.transmision)),i.append(col(o.tipo)),i.append(col(AccionColumna(function(a){mostrarEliminarVehiculo(a,o)},"trash","Eliminar")).addClass("alinearCentro")),$("#tblVehiculo tbody").append(i)})}function cargarComboTipos(){adicionarOpcionesCombo($("#cmbTipo"),_datosTipos,null,{id:"id_tipovehiculo",value:"descripcion"})}function getVehiculosExitoso(a){a.Success?(toastr.success("Cargado Exitoso"),_datosVehiculos=a.Data.Vehiculos,_datosTipos=a.Data.Tipos,mostrarDatosVehiculos(),cargarComboTipos()):toastr.error(a.Mensaje)}function init(){solicitudAjax("vehiculo/obtenerVehiculos",getVehiculosExitoso,{},"JSON","GET")}$(document).ready(function(){init(),$("#btnAdicionar").click(function(){mostrarModalVehiculo()}),$("#btnCancelar").click(function(){$("#agregarVehiculo").modal("hide")}),$("#btnGuardar").click(function(){guardarVehiculo(0)}),$("#btnCancelarEliminar").click(function(){$("#eliminarVehiculo").modal("hide")})});
//# sourceMappingURL=vehiculo.min.js.map
